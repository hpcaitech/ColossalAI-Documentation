"use strict";(self.webpackChunkagile_docs=self.webpackChunkagile_docs||[]).push([[5037],{5631:function(e,t,s){s.d(t,{M:function(){return c}});var r=s(8396),n=s(4997),i=s(9927),o=s(2773),a=s(1445),u=s(6935);const l=class{constructor(e={}){e=(0,r.ZD)(e,{localStorage:!1,waitForMount:!0,bindGlobal:!1,autoIntegrate:!0,bucket:!0}),this.config={waitForMount:e.waitForMount,bucket:e.bucket},this.key=e.key,this.integrations=new o.j(this,{autoIntegrate:e.autoIntegrate}),this.runtime=new a.r(this),this.subController=new u.z(this),n.pJ.log("10:00:00",{},this),e.bindGlobal&&((0,i.JZ)(l.globalKey,this)||n.pJ.log("10:02:00"))}integrate(e){return this.integrations.integrate(e),this}hasIntegration(){return this.integrations.hasIntegration()}};let c=l;c.globalKey="__agile__"},7962:function(e,t,s){s.d(t,{L:function(){return r}});class r{constructor(){}static track(){this.isTracking=!0}static tracked(e){this.isTracking&&this.trackedObservers.add(e)}static getTrackedObservers(){const e=Array.from(this.trackedObservers);return this.isTracking=!1,this.trackedObservers=new Set,e}}r.isTracking=!1,r.trackedObservers=new Set},2129:function(e,t,s){s.d(t,{Y:function(){return r}});class r{constructor(e){this.ready=!1,this.integrated=!1,this.key=e.key,this.frameworkInstance=e.frameworkInstance,this.methods={bind:e.bind,updateMethod:e.updateMethod}}}},2773:function(e,t,s){s.d(t,{j:function(){return u}});var r=s(8396),n=s(4997),i=s(2129);s(2012);const o=[],a=class{constructor(e,t={}){this.integrations=new Set,t=(0,r.ZD)(t,{autoIntegrate:!0}),this.agileInstance=()=>e,t.autoIntegrate&&a.onRegisterInitialIntegration((e=>{this.integrate(e)}))}static addInitialIntegration(e){e instanceof i.Y&&(o.forEach((t=>t(e))),a.initialIntegrations.push(e))}static onRegisterInitialIntegration(e){o.push(e),a.initialIntegrations.forEach((t=>{e(t)}))}integrate(e){return t=this,s=null,r=function*(){return null!=e.key&&(e.methods.bind?e.ready=yield e.methods.bind(this.agileInstance()):e.ready=!0,this.integrations.add(e),e.integrated=!0,!0)},new Promise(((e,n)=>{var i=e=>{try{a(r.next(e))}catch(t){n(t)}},o=e=>{try{a(r.throw(e))}catch(t){n(t)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(i,o);a((r=r.apply(t,s)).next())}));var t,s,r}update(e,t){this.integrations.forEach((s=>{s.ready?s.methods.updateMethod&&s.methods.updateMethod(e,t):n.pJ.log("18:02:00",{replacers:[s.key]})}))}hasIntegration(){return this.integrations.size>0}};let u=a;u.initialIntegrations=[]},4997:function(e,t,s){s.d(t,{b_:function(){return h},EQ:function(){return d},pJ:function(){return g},qE:function(){return c}});var r=s(8396),n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,u=(e,t,s)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,l=(e,t)=>{for(var s in t||(t={}))o.call(t,s)&&u(e,s,t[s]);if(i)for(var s of i(t))a.call(t,s)&&u(e,s,t[s]);return e};s(4756);const c={"00":"success","01":"info","02":"warn","03":"error"};class h{constructor(e,t){this.allowLogging=!0,this.logCodeMessages=e,this._loggerPackage=t}get logger(){var e;return(null==(e=this._loggerPackage)?void 0:e.sharedLogger)||null}getLog(e,t=[]){let s=this.logCodeMessages[e];if(null==s)return e;for(let r=0;r<t.length;r++)s=s.replace("${"+r+"}",t[r]);return s}log(e,t={},...s){var n;if(null!=this.logger&&!this.logger.isActive||!this.allowLogging)return;t=(0,r.ZD)(t,{replacers:[],tags:[]});const i=c[e.substr(3,2)];if("string"!=typeof i)return;if(null==this.logger)return void("error"!==i&&"warn"!==i||console[i](`Agile: ${this.getLog(e,t.replacers)}`));const o=this.getLog(e,t.replacers);0===(null==(n=t.tags)?void 0:n.length)?this.logger[i](o,...s):this.logger.if.tag(t.tags)[i](o,...s)}}function d(e,t){return new h(l(l({},e.logCodeMessages),t),e._loggerPackage)}let f;f=new h({},null);const g=f},6987:function(e,t,s){s.d(t,{Q:function(){return o}});var r=s(8396),n=s(4997),i=s(3762);class o{constructor(e,t={}){var s,n;this.dependents=new Set,this.subscribedTo=new Set,t=(0,r.ZD)(t,{dependents:[],subs:[],value:null}),this.agileInstance=()=>e,this.key=t.key,this.value=t.value,this.previousValue=t.value,null==(s=t.dependents)||s.forEach((e=>this.addDependent(e))),null==(n=t.subs)||n.forEach((e=>e.addSubscription(this)))}ingest(e={}){e=(0,r.ZD)(e,{perform:!0,key:n.pJ.allowLogging?`${null!=this.key?this.key+"_":""}${(0,r.Ox)()}`:void 0});const t=new i.d(this,e);this.agileInstance().runtime.ingest(t,{perform:e.perform})}perform(e){0}addDependent(e){this.dependents.has(e)||this.dependents.add(e)}removeDependent(e){this.dependents.has(e)&&this.dependents.delete(e)}}},3762:function(e,t,s){s.d(t,{d:function(){return n}});var r=s(8396);class n{constructor(e,t={}){this.subscriptionContainersToUpdate=new Set,this.timesTriedToUpdateCount=0,this.performed=!1,t=(0,r.ZD)(t,{background:!1,sideEffects:{enabled:!0,exclude:[]},force:!1,maxTriesToUpdate:3,any:{}}),this.config={background:t.background,force:t.force,sideEffects:t.sideEffects,maxTriesToUpdate:t.maxTriesToUpdate,any:t.any},this.observer=e,this.rerender=!t.background&&this.observer.agileInstance().integrations.hasIntegration(),this.key=t.key,this.subscriptionContainersToUpdate=new Set(e.subscribedTo)}}},1445:function(e,t,s){s.d(t,{r:function(){return o}});var r=s(8396),n=s(3375),i=s(982);class o{constructor(e){this.currentJob=null,this.jobQueue=[],this.jobsToRerender=[],this.notReadyJobsToRerender=new Set,this.isPerformingJobs=!1,this.bucketTimeout=null,this.agileInstance=()=>e}ingest(e,t={}){if(t=(0,r.ZD)(t,{perform:!this.isPerformingJobs}),this.jobQueue.push(e),t.perform){const e=this.jobQueue.shift();e&&this.perform(e)}}perform(e){if(this.isPerformingJobs=!0,this.currentJob=e,e.observer.perform(e),e.performed=!0,e.observer.dependents.forEach((e=>e.ingest())),e.rerender&&this.jobsToRerender.push(e),this.currentJob=null,this.jobQueue.length>0){const e=this.jobQueue.shift();e&&this.perform(e)}else this.isPerformingJobs=!1,this.jobsToRerender.length>0&&(this.agileInstance().config.bucket?null==this.bucketTimeout&&(this.bucketTimeout=setTimeout((()=>{this.bucketTimeout=null,this.updateSubscribers()}))):this.updateSubscribers())}updateSubscribers(){const e=this.jobsToRerender.concat(Array.from(this.notReadyJobsToRerender));if(this.notReadyJobsToRerender=new Set,this.jobsToRerender=[],!this.agileInstance().hasIntegration()||e.length<=0)return!1;const t=this.extractToUpdateSubscriptionContainer(e);return!(t.length<=0)&&(this.updateSubscriptionContainer(t),!0)}extractToUpdateSubscriptionContainer(e){const t=new Set;for(let s=0;s<e.length;s++){const r=e[s];r.subscriptionContainersToUpdate.forEach((e=>{let s=!0;e.ready?(s=s&&this.handleSelectors(e,r),s&&(e.updatedSubscribers.add(r.observer),t.add(e)),r.subscriptionContainersToUpdate.delete(e)):(!r.config.maxTriesToUpdate||r.timesTriedToUpdateCount<r.config.maxTriesToUpdate)&&(r.timesTriedToUpdateCount++,this.notReadyJobsToRerender.add(r))}))}return Array.from(t)}updateSubscriptionContainer(e){for(let t=0;t<e.length;t++){const s=e[t];s instanceof n.C&&s.callback(),s instanceof i.Z&&this.agileInstance().integrations.update(s.component,this.getUpdatedObserverValues(s)),s.updatedSubscribers.clear()}}getUpdatedObserverValues(e){var t;const s={};for(const r of e.updatedSubscribers){const n=null!=(t=e.subscriberKeysWeakMap.get(r))?t:r.key;null!=n&&(s[n]=r.value)}return s}handleSelectors(e,t){var s;const n=null==(s=e.selectorsWeakMap.get(t.observer))?void 0:s.methods;if(null==n)return!0;const i=t.observer.previousValue,o=t.observer.value;if(!i&&!o)return!1;for(const a of n)if((0,r.Qu)(a(o),a(i)))return!0;return!1}}},3375:function(e,t,s){s.d(t,{C:function(){return n}});var r=s(8488);class n extends r.u{constructor(e,t,s={}){super(t,s),this.callback=e}}},982:function(e,t,s){s.d(t,{Z:function(){return n}});var r=s(8488);class n extends r.u{constructor(e,t,s={}){super(t,s),this.component=e}}},8488:function(e,t,s){s.d(t,{u:function(){return n}});var r=s(8396);class n{constructor(e,t={}){var s,n,i,o;this.ready=!1,this.updatedSubscribers=new Set,this.isObjectBased=!1,t=(0,r.ZD)(t,{key:(0,r.Ox)()}),this.subscribers=new Set,this.key=t.key,this.componentId=null==t?void 0:t.componentId,this.subscriberKeysWeakMap=new WeakMap,this.selectorsWeakMap=new WeakMap,this.isObjectBased=!Array.isArray(e);for(const r in e)this.addSubscription(e[r],{proxyPaths:null==(n=null==(s=t.proxyWeakMap)?void 0:s.get(e[r]))?void 0:n.paths,selectorMethods:null==(o=null==(i=t.selectorWeakMap)?void 0:i.get(e[r]))?void 0:o.methods,key:this.isObjectBased?r:void 0})}addSubscription(e,t={}){var s,n,i,o;const a=null!=(s=t.selectorMethods)?s:[],u=null!=(n=t.proxyPaths)?n:[];for(const c of u)a.push((e=>{let t=e;for(const s of c){if(!(0,r.L5)(t,!0))break;t=t[s]}return t}));const l=(null!=(o=null==(i=this.selectorsWeakMap.get(e))?void 0:i.methods)?o:[]).concat(a);l.length>0&&this.selectorsWeakMap.set(e,{methods:l}),null!=t.key&&this.subscriberKeysWeakMap.set(e,t.key),this.subscribers.add(e),e.subscribedTo.add(this)}removeSubscription(e){this.subscribers.has(e)&&(this.selectorsWeakMap.delete(e),this.subscriberKeysWeakMap.delete(e),this.subscribers.delete(e),e.subscribedTo.delete(this))}}},6935:function(e,t,s){s.d(t,{z:function(){return o}});var r=s(8396),n=s(982),i=s(3375);class o{constructor(e){this.componentSubs=new Set,this.callbackSubs=new Set,this.mountedComponents=new Set,this.agileInstance=()=>e}subscribe(e,t,s={}){s=(0,r.ZD)(s,{waitForMount:this.agileInstance().config.waitForMount});const n=this[(0,r.mf)(e)?"createCallbackSubscriptionContainer":"createComponentSubscriptionContainer"](e,t,s);if(n.isObjectBased&&!Array.isArray(t)){const e={};for(const s in t)t[s].value&&(e[s]=t[s].value);return{subscriptionContainer:n,props:e}}return n}unsubscribe(e){const t=e=>{e.ready=!1,e.subscribers.forEach((t=>{e.removeSubscription(t)}))};return e instanceof i.C?(t(e),void this.callbackSubs.delete(e)):e instanceof n.Z?(t(e),void this.componentSubs.delete(e)):void(null!==e.componentSubscriptionContainers&&Array.isArray(e.componentSubscriptionContainers)&&e.componentSubscriptionContainers.forEach((e=>{t(e),this.componentSubs.delete(e)})))}createComponentSubscriptionContainer(e,t,s={}){const r=new n.Z(e,t,s);return this.componentSubs.add(r),s.waitForMount?this.mountedComponents.has(e)&&(r.ready=!0):r.ready=!0,Array.isArray(e.componentSubscriptionContainers)?e.componentSubscriptionContainers.push(r):e.componentSubscriptionContainers=[r],r}createCallbackSubscriptionContainer(e,t,s={}){const r=new i.C(e,t,s);return this.callbackSubs.add(r),r.ready=!0,r}mount(e){null!=e.componentSubscriptionContainers&&Array.isArray(e.componentSubscriptionContainers)&&e.componentSubscriptionContainers.map((e=>e.ready=!0)),this.mountedComponents.add(e)}unmount(e){null!=e.componentSubscriptionContainers&&Array.isArray(e.componentSubscriptionContainers)&&e.componentSubscriptionContainers.map((e=>e.ready=!1)),this.mountedComponents.delete(e)}}},9964:function(e,t,s){s.d(t,{rU:function(){return a},uZ:function(){return u},w7:function(){return o}});var r=s(8396),n=s(4997),i=s(5631);let o=new i.M({key:"shared"});function a(e){o=e}function u(e){try{if(null!=e){const t=(0,r.mf)(e.agileInstance)?e.agileInstance():e.agileInstance;if(t)return t}return o instanceof i.M?o:globalThis[i.M.globalKey]}catch(t){n.pJ.log("20:03:00",{},e)}}},9194:function(e,t,s){s.d(t,{l:function(){return o}});var r=s(8396),n=s(9964),i=s(8522);function o(e,t={}){return t=(0,r.ZD)(t,{agileInstance:n.w7}),new i.i(t.agileInstance,e,t)}},3135:function(e,t,s){s.d(t,{e:function(){return n}});var r=s(9194);function n(e,t={}){return(0,r.l)(e,t)}},8522:function(e,t,s){s.d(t,{i:function(){return a}});var r=s(8396),n=s(4997),i=s(1328),o=s(7654);class a extends i.Z{constructor(e,t,s={}){super(e,t,s),this.isPersisted=!1,this.computeExistsMethod=e=>null!=e}setKey(e){var t,s;const r=this._key;return super.setKey(e),null!=e&&(null==(t=this.persistent)?void 0:t._key)===r&&(null==(s=this.persistent)||s.setKey(e)),this}undo(e={}){return this.set(this.previousStateValue,e),this}reset(e={}){return this.set(this.initialStateValue,e),this}patch(e,t={}){return t=(0,r.ZD)(t,{addNewProperties:!0}),(0,r.L5)(this.nextStateValue,!0)?(0,r.L5)(e,!0)?(Array.isArray(e)&&Array.isArray(this.nextStateValue)?this.nextStateValue=[...this.nextStateValue,...e]:this.nextStateValue=(0,r.gg)(this.nextStateValue,e,{addNewProperties:t.addNewProperties}),this.ingest(t),this):(n.pJ.log("00:03:01",{replacers:["TargetWithChanges","object"]}),this):(n.pJ.log("14:03:02"),this)}watch(e,t){const s=(0,r.mf)(e);let i,o;return s?(o=(0,r.Ox)(),i=e):(o=e,i=t),(0,r.mf)(i)?(this.addSideEffect(o,(e=>{i(e.value,o)}),{weight:0}),s?o:this):(n.pJ.log("00:03:01",{replacers:["Watcher Callback","function"]}),this)}removeWatcher(e){return this.removeSideEffect(e),this}onInaugurated(e){const t="InauguratedWatcherKey";return this.watch(t,((s,r)=>{e(s,r),this.removeSideEffect(t)})),this}interval(e,t){return(0,r.mf)(e)?this.currentInterval?(n.pJ.log("14:03:03",{replacers:[]},this.currentInterval),this):(this.currentInterval=setInterval((()=>{this.set(e(this._value))}),null!=t?t:1e3),this):(n.pJ.log("00:03:01",{replacers:["Interval Callback","function"]}),this)}clearInterval(){this.currentInterval&&(clearInterval(this.currentInterval),delete this.currentInterval)}get exists(){return!this.isPlaceholder&&this.computeExistsMethod(this.value)}computeExists(e){return(0,r.mf)(e)?(this.computeExistsMethod=e,this):(n.pJ.log("00:03:01",{replacers:["Compute Exists Method","function"]}),this)}computeValue(e){return(0,r.mf)(e)?(this.computeValueMethod=e,this.set(this.nextStateValue),this):(n.pJ.log("00:03:01",{replacers:["Compute Value Method","function"]}),this)}is(e){return(0,r.Dg)(e,this.value)}isNot(e){return(0,r.Qu)(e,this.value)}invert(){switch(typeof this.nextStateValue){case"boolean":this.set(!this.nextStateValue);break;case"object":Array.isArray(this.nextStateValue)&&this.set(this.nextStateValue.reverse());break;case"string":this.set(this.nextStateValue.split("").reverse().join(""));break;case"number":this.set(-1*this.nextStateValue);break;default:n.pJ.log("14:03:04",{replacers:[typeof this.nextStateValue]})}return this}persist(e={}){return e=(0,r.ZD)(e,{key:this._key}),null!=this.persistent&&this.isPersisted||(this.persistent=new o.H(this,e)),this}onLoad(e){return this.persistent?(0,r.mf)(e)?(this.persistent.onLoad=e,this.isPersisted&&e(!0),this):(n.pJ.log("00:03:01",{replacers:["OnLoad Callback","function"]}),this):this}getPersistableValue(){return this._value}}},1328:function(e,t,s){s.d(t,{Z:function(){return a}});var r=s(8396),n=s(4997),i=s(2494),o=s(7962);class a{constructor(e,t,s={}){this.isSet=!1,this.isPlaceholder=!1,this.observers={},this.sideEffects={},s=(0,r.ZD)(s,{dependents:[],isPlaceholder:!1}),this.agileInstance=()=>e,this._key=s.key,this.observers.value=new i.I(this,{key:s.key,dependents:s.dependents}),this.initialStateValue=(0,r.JG)(t),this._value=(0,r.JG)(t),this.previousStateValue=(0,r.JG)(t),this.nextStateValue=(0,r.JG)(t),this.isPlaceholder=!0,s.isPlaceholder||this.set(t,{overwrite:!0})}set value(e){this.set(e)}get value(){return o.L.tracked(this.observers.value),(0,r.JG)(this._value)}set key(e){this.setKey(e)}get key(){return this._key}setKey(e){this._key=e;for(const t in this.observers)this.observers[t].key=e;return this}set(e,t={}){t=(0,r.ZD)(t,{force:!1});const s=(0,r.mf)(e)?e((0,r.JG)(this._value)):e;return this.observers.value.ingestValue(s,t),this}ingest(e={}){return this.observers.value.ingest(e),this}addSideEffect(e,t,s={}){return s=(0,r.ZD)(s,{weight:10}),(0,r.mf)(t)?(this.sideEffects[e]={callback:t,weight:s.weight},this):(n.pJ.log("00:03:01",{replacers:["Side Effect Callback","function"]}),this)}removeSideEffect(e){return delete this.sideEffects[e],this}hasSideEffect(e){return!!this.sideEffects[e]}}},2494:function(e,t,s){s.d(t,{I:function(){return a}});var r=s(8396),n=s(2957),i=s(4997),o=s(6987);class a extends o.Q{constructor(e,t={}){super(e.agileInstance(),(0,r.ZD)(t,{value:(0,r.JG)(e._value)})),this.state=()=>e,this.nextStateValue=(0,r.JG)(e._value)}ingest(e={}){const t=this.state();t.isComputed?t.compute().then((t=>{this.ingestValue(t,e)})):this.ingestValue(t.nextStateValue,e)}ingestValue(e,t={}){const s=this.state();if(t=(0,r.ZD)(t,{perform:!0,force:!1,key:i.pJ.allowLogging?`${null!=this.key?this.key+"_":""}${(0,r.Ox)()}_value`:void 0}),s.isPlaceholder&&(t.force=!0,t.overwrite=!0),this.nextStateValue=s.computeValueMethod?(0,r.JG)(s.computeValueMethod(e)):(0,r.JG)(e),(0,r.Dg)(s._value,this.nextStateValue)&&!t.force)return;const o=new n.f(this,t);this.agileInstance().runtime.ingest(o,{perform:t.perform})}perform(e){const t=e.observer,s=t.state();s.previousStateValue=(0,r.JG)(s._value),s._value=(0,r.JG)(t.nextStateValue),s.nextStateValue=(0,r.JG)(t.nextStateValue),e.config.overwrite&&(s.initialStateValue=(0,r.JG)(s._value),s.previousStateValue=(0,r.JG)(s._value),s.isPlaceholder=!1),s.isSet=(0,r.Qu)(s._value,s.initialStateValue),this.sideEffects(e),e.observer.previousValue=Object.freeze((0,r.JG)(t.value)),e.observer.value=(0,r.JG)(s._value)}sideEffects(e){var t,s,n;const i=e.observer.state();if(0!==Object.keys(i.sideEffects).length&&(null==(s=null==(t=e.config)?void 0:t.sideEffects)?void 0:s.enabled)){const t=(0,r.k9)(i.sideEffects);t.sort((function(e,t){return t.instance.weight-e.instance.weight}));for(const s of t)(0,r.mf)(s.instance.callback)&&((null==(n=e.config.sideEffects.exclude)?void 0:n.includes(s.key))||s.instance.callback(e.observer.state(),e.config))}}}},7654:function(e,t,s){s.d(t,{H:function(){return u}});var r=s(8396),n=s(8020),i=s(9785);s(2253);var o=(e,t,s)=>new Promise(((r,n)=>{var i=e=>{try{a(s.next(e))}catch(t){n(t)}},o=e=>{try{a(s.throw(e))}catch(t){n(t)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((s=s.apply(e,t)).next())}));const a=class extends n.G{constructor(e,t={}){super(e.agileInstance(),{loadValue:!1}),t=(0,r.ZD)(t,{loadValue:!0,storageKeys:[],defaultStorageKey:null}),this.state=()=>e,this.onMigrate=t.onMigrate,this.onSave=t.onSave,this.instantiatePersistent({key:t.key,storageKeys:t.storageKeys,defaultStorageKey:t.defaultStorageKey}),this.ready&&t.loadValue&&this.initialLoading()}initialLoading(){var e=e=>super[e];return o(this,null,(function*(){e("initialLoading").call(this).then((()=>{this.state().isPersisted=!0}))}))}loadPersistedValue(e){return o(this,null,(function*(){var t;if(!this.ready)return!1;const s=null!=e?e:this._key,r=yield null==(t=(0,i.Q3)())?void 0:t.get(s,this.config.defaultStorageKey);return null!=r&&(this.state().set(null!=this.onMigrate?this.onMigrate(r):r,{storage:!1,overwrite:!0}),this.setupSideEffects(s),!0)}))}persistValue(e){return o(this,null,(function*(){if(!this.ready)return!1;const t=null!=e?e:this._key;return this.setupSideEffects(t),this.rebuildStorageSideEffect(this.state(),t),this.isPersisted=!0,!0}))}setupSideEffects(e){const t=null!=e?e:this._key;this.state().addSideEffect(a.storeValueSideEffectKey,((e,s)=>{this.rebuildStorageSideEffect(this.state(),t,s)}),{weight:0})}removePersistedValue(e){return o(this,null,(function*(){var t;if(!this.ready)return!1;const s=e||this._key;return this.state().removeSideEffect(a.storeValueSideEffectKey),null==(t=(0,i.Q3)())||t.remove(s,this.storageKeys),this.isPersisted=!1,!0}))}formatKey(e){return null==e&&this.state()._key?this.state()._key:null!=e?(null==this.state()._key&&(this.state()._key=e),e):void 0}rebuildStorageSideEffect(e,t,s={}){var r;(null==s.storage||s.storage)&&(null==(r=(0,i.Q3)())||r.set(t,null!=this.onSave?this.onSave(this.state().getPersistableValue()):this.state().getPersistableValue(),this.storageKeys))}};let u=a;u.storeValueSideEffectKey="rebuildStateStorageValue"},2957:function(e,t,s){s.d(t,{f:function(){return i}});var r=s(8396),n=s(3762);class i extends n.d{constructor(e,t={}){super(e,t),t=(0,r.ZD)(t,{storage:!0,overwrite:!1}),this.config.overwrite=t.overwrite,this.config.storage=t.storage}}},8020:function(e,t,s){s.d(t,{G:function(){return u}});var r=s(8396),n=s(4997),i=s(9785);s(1271);var o=(e,t,s)=>new Promise(((r,n)=>{var i=e=>{try{a(s.next(e))}catch(t){n(t)}},o=e=>{try{a(s.throw(e))}catch(t){n(t)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((s=s.apply(e,t)).next())}));const a=class{constructor(e,t={}){this.ready=!1,this.isPersisted=!1,this.storageKeys=[],this.agileInstance=()=>e,this._key=a.placeHolderKey,t=(0,r.ZD)(t,{loadValue:!0,storageKeys:[],defaultStorageKey:null}),this.config={defaultStorageKey:t.defaultStorageKey},t.loadValue&&this.instantiatePersistent({storageKeys:t.storageKeys,key:t.key,defaultStorageKey:t.defaultStorageKey})}set key(e){this.setKey(e)}get key(){return this._key}setKey(e){return o(this,null,(function*(){const t=this._key,s=this.ready;if(e===this._key)return;this._key=null!=e?e:a.placeHolderKey;const r=this.validatePersistent();s?(yield this.removePersistedValue(t),r&&(yield this.persistValue(e))):r&&(yield this.initialLoading())}))}instantiatePersistent(e={}){var t;this._key=null!=(t=this.formatKey(e.key))?t:a.placeHolderKey,this.assignStorageKeys(e.storageKeys,e.defaultStorageKey),this.validatePersistent();const s=(0,i.Q3)();this._key!==a.placeHolderKey&&null!=s&&(s.persistentInstances[this._key]=this)}validatePersistent(){let e=!0;return this._key===a.placeHolderKey&&(n.pJ.log("12:03:00"),e=!1),(null==this.config.defaultStorageKey||this.storageKeys.length<=0)&&(n.pJ.log("12:03:01"),e=!1),this.storageKeys.map((t=>{var s;(null==(s=(0,i.Q3)())?void 0:s.storages[t])||(n.pJ.log("12:03:02",{replacers:[this._key,t]}),e=!1)})),this.ready=e,e}assignStorageKeys(e=[],t){var s,n;const o=(0,r.JG)(e);if(null==t||o.includes(t)||o.push(t),o.length<=0){const e=null==(s=(0,i.Q3)())?void 0:s.config.defaultStorageKey;null!=e&&(this.config.defaultStorageKey=e,o.push(null==(n=(0,i.Q3)())?void 0:n.config.defaultStorageKey))}else this.config.defaultStorageKey=null!=t?t:o[0];this.storageKeys=o}initialLoading(){return o(this,null,(function*(){const e=yield this.loadPersistedValue();this.onLoad&&this.onLoad(e),e||(yield this.persistValue())}))}loadPersistedValue(e){return o(this,null,(function*(){return!1}))}persistValue(e){return o(this,null,(function*(){return!1}))}removePersistedValue(e){return o(this,null,(function*(){return!1}))}formatKey(e){return e}};let u=a;u.placeHolderKey="__THIS_IS_A_PLACEHOLDER__"},9785:function(e,t,s){s.d(t,{tq:function(){return u},Zs:function(){return l},Q3:function(){return c},yD:function(){return a}});var r=s(8396),n=s(9927),i=s(9964),o=s(8445);let a=null;const u=e=>{a=e};function l(e={}){return e=(0,r.ZD)(e,{agileInstance:i.w7}),new o.l(e.agileInstance,e)}function c(){if(null==a){const e=l({localStorage:!(0,n.Se)()});return u(e),e}return a}},2014:function(e,t,s){s.d(t,{K:function(){return i}});var r=s(8396),n=s(4997);class i{constructor(e){this.ready=!1,e=(0,r.ZD)(e,{prefix:"agile",async:!1}),this.key=e.key,this.methods=e.methods,this.config={prefix:e.prefix,async:e.async},this.ready=this.validate(),this.ready&&((0,r.$W)(this.methods.get)||(0,r.$W)(this.methods.set)||(0,r.$W)(this.methods.remove))&&(this.config.async=!0)}validate(){var e,t,s;return(0,r.mf)(null==(e=this.methods)?void 0:e.get)?(0,r.mf)(null==(t=this.methods)?void 0:t.set)?!!(0,r.mf)(null==(s=this.methods)?void 0:s.remove)||(n.pJ.log("13:03:00",{replacers:["remove"]}),!1):(n.pJ.log("13:03:00",{replacers:["set"]}),!1):(n.pJ.log("13:03:00",{replacers:["get"]}),!1)}normalGet(e){if(!this.ready||!this.methods.get)return;(0,r.$W)(this.methods.get)&&n.pJ.log("13:02:00");const t=this.methods.get(this.getStorageKey(e)),s=(0,r.Pb)(t)?JSON.parse(t):t;return n.pJ.log("13:01:00",{tags:["storage"],replacers:[this.key,this.getStorageKey(e)]},s),s}get(e){return this.ready&&this.methods.get?(0,r.$W)(this.methods.get)?new Promise(((t,s)=>{var i;null==(i=this.methods)||i.get(this.getStorageKey(e)).then((s=>{const i=(0,r.Pb)(s)?JSON.parse(s):s;n.pJ.log("13:01:00",{tags:["storage"],replacers:[this.key,this.getStorageKey(e)]},i),t(i)})).catch(s)})):Promise.resolve(this.normalGet(e)):Promise.resolve(void 0)}set(e,t){this.ready&&this.methods.set&&(n.pJ.log("13:01:01",{tags:["storage"],replacers:[this.key,this.getStorageKey(e)]}),this.methods.set(this.getStorageKey(e),JSON.stringify(t)))}remove(e){this.ready&&this.methods.remove&&(n.pJ.log("13:01:02",{tags:["storage"],replacers:[this.key,this.getStorageKey(e)]}),this.methods.remove(this.getStorageKey(e)))}getStorageKey(e){return this.config.prefix?`_${this.config.prefix}_${e}`:e.toString()}}},8445:function(e,t,s){s.d(t,{l:function(){return o}});var r=s(8396),n=s(4997),i=s(2014);class o{constructor(e,t={}){this.storages={},this.persistentInstances={},this.agileInstance=()=>e,t=(0,r.ZD)(t,{localStorage:!1,defaultStorageKey:null}),this.config={defaultStorageKey:t.defaultStorageKey},t.localStorage&&this.instantiateLocalStorage()}instantiateLocalStorage(){if(!o.localStorageAvailable())return n.pJ.log("11:02:00"),!1;const e=new i.K({key:"localStorage",async:!1,methods:{get:localStorage.getItem.bind(localStorage),set:localStorage.setItem.bind(localStorage),remove:localStorage.removeItem.bind(localStorage)}});return this.register(e,{default:!0})}register(e,t={}){const s=(0,r.Qu)(this.storages,{});if(Object.prototype.hasOwnProperty.call(this.storages,e.key))return n.pJ.log("11:03:00",{replacers:[e.key]}),!1;s||!1!==t.default||n.pJ.log("11:02:01"),s||(t.default=!0),this.storages[e.key]=e,t.default&&(this.config.defaultStorageKey=e.key);for(const r of Object.keys(this.persistentInstances)){const t=this.persistentInstances[r];if(null!=t)if(t.storageKeys.includes(e.key)){t.validatePersistent()&&t.initialLoading()}else if(null==t.config.defaultStorageKey){t.assignStorageKeys();t.validatePersistent()&&t.initialLoading()}}return n.pJ.log("13:00:00",{replacers:[e.key]},e),!0}getStorage(e){if(!e)return;const t=this.storages[e];if(t){if(t.ready)return t;n.pJ.log("11:03:02",{replacers:[e]})}else n.pJ.log("11:03:01",{replacers:[e]})}get(e,t){if(!this.hasStorage())return n.pJ.log("11:03:03"),Promise.resolve(void 0);if(t){const s=this.getStorage(t);if(s)return s.get(e)}const s=this.getStorage(this.config.defaultStorageKey);return(null==s?void 0:s.get(e))||Promise.resolve(void 0)}set(e,t,s){var r;if(!this.hasStorage())return void n.pJ.log("11:03:04");if(null!=s){for(const n of s)null==(r=this.getStorage(n))||r.set(e,t);return}const i=this.getStorage(this.config.defaultStorageKey);null==i||i.set(e,t)}remove(e,t){var s;if(!this.hasStorage())return void n.pJ.log("11:03:05");if(t){for(const r of t)null==(s=this.getStorage(r))||s.remove(e);return}const r=this.getStorage(this.config.defaultStorageKey);null==r||r.remove(e)}hasStorage(){return(0,r.Qu)(this.storages,{})}static localStorageAvailable(){try{return localStorage.setItem("_myDummyKey_","myDummyValue"),localStorage.removeItem("_myDummyKey_"),!0}catch(e){return!1}}}},9927:function(e,t,s){s.d(t,{$S:function(){return o},Zv:function(){return a},JZ:function(){return l},aF:function(){return u},Se:function(){return c}});var r=s(8396),n=s(4997),i=s(6987);function o(e){const t=[],s=(0,r.AF)(e,!0);for(const r of s)if(null!=r)if(r.isCollection)t.push(r.getGroupWithReference(r.config.defaultGroupKey).observers);else if(r.observer&&r.observer instanceof i.Q)t.push({value:r.observer});else if(r.observers){const e={};for(const t in r.observers)r.observers[t]instanceof i.Q&&(e[t]=r.observers[t]);t.push(e)}else r instanceof i.Q?t.push({value:r}):t.push({});else t.push({});return Array.isArray(e)?t:t[0]}function a(e,t){var s;const r={},n=[];for(const i in e){const a=o(e[i]);let u;null!=t&&null!=a[t]&&(u=a[t]),null==t&&(u=null!=(s=a.output)?s:a.value),Array.isArray(e)?n.push(u):r[i]=u}return Array.isArray(e)?n:r}function u(e,t=!0){let r=null;try{r=s(4756)(e)}catch(i){t&&(n.pJ.log("20:03:02",{replacers:[e]}),console.log(i))}return r}function l(e,t,s=!1){try{if(s)return globalThis[e]=t,!0;if(null==globalThis[e])return globalThis[e]=t,!0}catch(r){n.pJ.log("20:03:01",{replacers:[e]})}return!1}const c=()=>!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement)},1763:function(e,t,s){s.d(t,{Z:function(){return u}});var r=s(7294),n=s(2129),i=s(2773),o=s(8396);const a=new n.Y({key:"react",frameworkInstance:r,bind:()=>Promise.resolve(!0),updateMethod(e,t){0!==Object.keys(t).length?(e.agileProps=(0,o.gg)(e.agileProps,t),e.setState((0,o.gg)(e.state,t))):e.forceUpdate()}});i.j.addInitialIntegration(a);var u=a},8396:function(e,t,s){s.d(t,{d9:function(){return k},JG:function(){return u},k9:function(){return S},ZD:function(){return p},Dg:function(){return b},gg:function(){return y},Ox:function(){return m},VH:function(){return c},$W:function(){return f},mf:function(){return d},Pb:function(){return g},L5:function(){return l},AF:function(){return h},Qu:function(){return v}});var r=Object.defineProperty,n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(e,t,s)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;function u(e){if(null==e||"object"!=typeof e)return e;const t=Object.getPrototypeOf(e).constructor.name.toLowerCase();if("object"!==t&&"array"!==t)return e;let s;const r=Array.isArray(e)?[]:{};for(const n in e)s=e[n],r[n]=u(s);return r}function l(e,t=!1){return!(null===e||"object"!=typeof e||function(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}(e)||!t&&Array.isArray(e))}function c(e,t){return t.every((t=>e.includes(t)))}function h(e,t=!1){return null!=e||t?Array.isArray(e)?e:[e]:[]}function d(e){return"function"==typeof e}function f(e){const t=e.toString();return d(e)&&("AsyncFunction"===e.constructor.name||t.includes("__awaiter"))}function g(e){if("string"!=typeof e)return!1;try{JSON.parse(e)}catch(t){return!1}return!0}function p(e,t,s=!0){const r=((e,t)=>{for(var s in t||(t={}))i.call(t,s)&&a(e,s,t[s]);if(n)for(var s of n(t))o.call(t,s)&&a(e,s,t[s]);return e})({},e);for(const n in t)(!Object.prototype.hasOwnProperty.call(r,n)||s&&void 0===r[n])&&(r[n]=t[n]);return r}function y(e,t,s={}){s=p(s,{addNewProperties:!0});const r=u(e);if(null==r)return r;return Object.keys(t).forEach((e=>{(!s.addNewProperties&&null!=r[e]||s.addNewProperties)&&(r[e]=t[e])})),r}function b(e,t){return e===t||"object"==typeof e&&"object"==typeof t&&JSON.stringify(e)===JSON.stringify(t)}function v(e,t){return!b(e,t)}function m(e=5,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"){const s=t.length;let r="";for(let n=0;n<e;n++)r+=t.charAt(Math.floor(Math.random()*s));return r}function S(e){const t=[];for(const s in e)t.push({key:s,instance:e[s]});return t}function k(e){const t=Object.create(Object.getPrototypeOf(e)),s=Object.assign(t,e);for(const r in s)s[r]=u(s[r]);return s}s(90)}}]);